
local ee5g7 = {
	bh1726ge8 = Instance.new("ScreenGui"),
	c2f5cdd = Instance.new("Frame"),
	a339dfd2c856da447 = Instance.new("TextButton"),
	fa9f7c123c06ggc1d41e9e216a54 = Instance.new("Folder"),
	bbah41ae54eb0afg4361chbcg5adh008 = Instance.new("Frame"),
	fb2ag = Instance.new("TextButton"),
	g2g9986g7h5c3fag65f = Instance.new("TextButton"),
	heh5hhe5dag8hdb89d3e = Instance.new("TextButton"),
	aah9aea92d95912a49a24h = Instance.new("TextButton"),
	c7b8dhf70ch0cc750bh29a69 = Instance.new("Folder"),
	f0c640c43e7 = Instance.new("BoolValue"),
}

ee5g7.bh1726ge8.Name = "TopBarBlocker"
ee5g7.bh1726ge8.Parent = game:GetService("CoreGui")
ee5g7.bh1726ge8.SafeAreaCompatibility = Enum.SafeAreaCompatibility.FullscreenExtension
ee5g7.bh1726ge8.ClipToDeviceSafeArea = true
ee5g7.bh1726ge8.IgnoreGuiInset = true
ee5g7.bh1726ge8.ScreenInsets = Enum.ScreenInsets.DeviceSafeInsets
ee5g7.bh1726ge8.DisplayOrder = 0

ee5g7.c2f5cdd.Name = "TopBAR"
ee5g7.c2f5cdd.Parent = ee5g7.bh1726ge8
ee5g7.c2f5cdd.LayoutOrder = 0
ee5g7.c2f5cdd.Active = false
ee5g7.c2f5cdd.Interactable = true
ee5g7.c2f5cdd.AnchorPoint = Vector2.new(0, 0)
ee5g7.c2f5cdd.Visible = true
ee5g7.c2f5cdd.ZIndex = 10
ee5g7.c2f5cdd.AutomaticSize = Enum.AutomaticSize.None
ee5g7.c2f5cdd.Size = UDim2.new(1, 0, 0, 36)
ee5g7.c2f5cdd.Draggable = false
ee5g7.c2f5cdd.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.c2f5cdd.ClipsDescendants = false
ee5g7.c2f5cdd.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.c2f5cdd.Selectable = false
ee5g7.c2f5cdd.BorderSizePixel = 1
ee5g7.c2f5cdd.Rotation = 0
ee5g7.c2f5cdd.BackgroundTransparency = 0
ee5g7.c2f5cdd.Position = UDim2.new(0, 0, 0, 0)
ee5g7.c2f5cdd.BorderMode = Enum.BorderMode.Outline
ee5g7.c2f5cdd.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.c2f5cdd.Style = Enum.FrameStyle.Custom

ee5g7.a339dfd2c856da447.Name = "main"
ee5g7.a339dfd2c856da447.Parent = ee5g7.c2f5cdd
ee5g7.a339dfd2c856da447.AutoButtonColor = true
ee5g7.a339dfd2c856da447.LayoutOrder = 0
ee5g7.a339dfd2c856da447.Active = true
ee5g7.a339dfd2c856da447.Interactable = true
ee5g7.a339dfd2c856da447.AnchorPoint = Vector2.new(0, 0)
ee5g7.a339dfd2c856da447.Visible = true
ee5g7.a339dfd2c856da447.ZIndex = 11
ee5g7.a339dfd2c856da447.AutomaticSize = Enum.AutomaticSize.None
ee5g7.a339dfd2c856da447.Size = UDim2.new(0.00797448121, 300, 1, 0)
ee5g7.a339dfd2c856da447.Draggable = false
ee5g7.a339dfd2c856da447.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.a339dfd2c856da447.ClipsDescendants = false
ee5g7.a339dfd2c856da447.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.a339dfd2c856da447.Selectable = true
ee5g7.a339dfd2c856da447.BorderSizePixel = 1
ee5g7.a339dfd2c856da447.Rotation = 0
ee5g7.a339dfd2c856da447.BackgroundTransparency = 1
ee5g7.a339dfd2c856da447.Position = UDim2.new(0, 0, 0, 0)
ee5g7.a339dfd2c856da447.BorderMode = Enum.BorderMode.Outline
ee5g7.a339dfd2c856da447.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.a339dfd2c856da447.TextDirection = Enum.TextDirection.Auto
ee5g7.a339dfd2c856da447.TextStrokeColor3 = Color3.new(0, 0, 0)
ee5g7.a339dfd2c856da447.TextStrokeTransparency = 1
ee5g7.a339dfd2c856da447.TextTruncate = Enum.TextTruncate.None
ee5g7.a339dfd2c856da447.RichText = false
ee5g7.a339dfd2c856da447.TextColor3 = Color3.new(1, 1, 1)
ee5g7.a339dfd2c856da447.TextYAlignment = Enum.TextYAlignment.Center
ee5g7.a339dfd2c856da447.Text = "ROBLOX > "
ee5g7.a339dfd2c856da447.FontFace = Font.new("rbxasset://fonts/families/LegacyArial.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ee5g7.a339dfd2c856da447.TextWrapped = true
ee5g7.a339dfd2c856da447.TextTransparency = 0
ee5g7.a339dfd2c856da447.TextXAlignment = Enum.TextXAlignment.Left
ee5g7.a339dfd2c856da447.MaxVisibleGraphemes = -1
ee5g7.a339dfd2c856da447.TextScaled = true

ee5g7.fa9f7c123c06ggc1d41e9e216a54.Name = "Menus"
ee5g7.fa9f7c123c06ggc1d41e9e216a54.Parent = ee5g7.bh1726ge8

ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Name = "main"
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Parent = ee5g7.fa9f7c123c06ggc1d41e9e216a54
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.LayoutOrder = 0
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Active = false
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Interactable = true
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.AnchorPoint = Vector2.new(0, 0)
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Visible = false
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.ZIndex = 10
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.AutomaticSize = Enum.AutomaticSize.None
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Size = UDim2.new(0, 180, 0, 144)
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Draggable = false
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.ClipsDescendants = false
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Selectable = false
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.BorderSizePixel = 0
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Rotation = 0
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.BackgroundTransparency = 0
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Position = UDim2.new(0, 0, 0, 36)
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.BorderMode = Enum.BorderMode.Outline
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.bbah41ae54eb0afg4361chbcg5adh008.Style = Enum.FrameStyle.Custom

ee5g7.fb2ag.Name = "Chat"
ee5g7.fb2ag.Parent = ee5g7.bbah41ae54eb0afg4361chbcg5adh008
ee5g7.fb2ag.AutoButtonColor = true
ee5g7.fb2ag.LayoutOrder = 0
ee5g7.fb2ag.Active = true
ee5g7.fb2ag.Interactable = true
ee5g7.fb2ag.AnchorPoint = Vector2.new(0, 0)
ee5g7.fb2ag.Visible = true
ee5g7.fb2ag.ZIndex = 11
ee5g7.fb2ag.AutomaticSize = Enum.AutomaticSize.None
ee5g7.fb2ag.Size = UDim2.new(0, 180, 0, 29)
ee5g7.fb2ag.Draggable = false
ee5g7.fb2ag.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.fb2ag.ClipsDescendants = false
ee5g7.fb2ag.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.fb2ag.Selectable = true
ee5g7.fb2ag.BorderSizePixel = 0
ee5g7.fb2ag.Rotation = 0
ee5g7.fb2ag.BackgroundTransparency = 0
ee5g7.fb2ag.Position = UDim2.new(-0.00239223894, 0, -0.00464948034, 0)
ee5g7.fb2ag.BorderMode = Enum.BorderMode.Outline
ee5g7.fb2ag.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.fb2ag.TextDirection = Enum.TextDirection.Auto
ee5g7.fb2ag.TextStrokeColor3 = Color3.new(0, 0, 0)
ee5g7.fb2ag.TextStrokeTransparency = 1
ee5g7.fb2ag.TextTruncate = Enum.TextTruncate.None
ee5g7.fb2ag.RichText = false
ee5g7.fb2ag.TextColor3 = Color3.new(0, 1, 0)
ee5g7.fb2ag.TextYAlignment = Enum.TextYAlignment.Center
ee5g7.fb2ag.Text = "Chat has crashed! :("
ee5g7.fb2ag.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ee5g7.fb2ag.TextWrapped = true
ee5g7.fb2ag.TextTransparency = 0
ee5g7.fb2ag.TextXAlignment = Enum.TextXAlignment.Center
ee5g7.fb2ag.MaxVisibleGraphemes = -1
ee5g7.fb2ag.TextScaled = true

ee5g7.g2g9986g7h5c3fag65f.Name = "LS"
ee5g7.g2g9986g7h5c3fag65f.Parent = ee5g7.bbah41ae54eb0afg4361chbcg5adh008
ee5g7.g2g9986g7h5c3fag65f.AutoButtonColor = true
ee5g7.g2g9986g7h5c3fag65f.LayoutOrder = 0
ee5g7.g2g9986g7h5c3fag65f.Active = true
ee5g7.g2g9986g7h5c3fag65f.Interactable = true
ee5g7.g2g9986g7h5c3fag65f.AnchorPoint = Vector2.new(0, 0)
ee5g7.g2g9986g7h5c3fag65f.Visible = true
ee5g7.g2g9986g7h5c3fag65f.ZIndex = 11
ee5g7.g2g9986g7h5c3fag65f.AutomaticSize = Enum.AutomaticSize.None
ee5g7.g2g9986g7h5c3fag65f.Size = UDim2.new(0, 180, 0, 29)
ee5g7.g2g9986g7h5c3fag65f.Draggable = false
ee5g7.g2g9986g7h5c3fag65f.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.g2g9986g7h5c3fag65f.ClipsDescendants = false
ee5g7.g2g9986g7h5c3fag65f.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.g2g9986g7h5c3fag65f.Selectable = true
ee5g7.g2g9986g7h5c3fag65f.BorderSizePixel = 0
ee5g7.g2g9986g7h5c3fag65f.Rotation = 0
ee5g7.g2g9986g7h5c3fag65f.BackgroundTransparency = 0
ee5g7.g2g9986g7h5c3fag65f.Position = UDim2.new(-0.00239223894, 0, 0.196739405, 0)
ee5g7.g2g9986g7h5c3fag65f.BorderMode = Enum.BorderMode.Outline
ee5g7.g2g9986g7h5c3fag65f.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.g2g9986g7h5c3fag65f.TextDirection = Enum.TextDirection.Auto
ee5g7.g2g9986g7h5c3fag65f.TextStrokeColor3 = Color3.new(0, 0, 0)
ee5g7.g2g9986g7h5c3fag65f.TextStrokeTransparency = 1
ee5g7.g2g9986g7h5c3fag65f.TextTruncate = Enum.TextTruncate.None
ee5g7.g2g9986g7h5c3fag65f.RichText = false
ee5g7.g2g9986g7h5c3fag65f.TextColor3 = Color3.new(0, 1, 0)
ee5g7.g2g9986g7h5c3fag65f.TextYAlignment = Enum.TextYAlignment.Center
ee5g7.g2g9986g7h5c3fag65f.Text = "Leaderboard has crashed! :("
ee5g7.g2g9986g7h5c3fag65f.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ee5g7.g2g9986g7h5c3fag65f.TextWrapped = true
ee5g7.g2g9986g7h5c3fag65f.TextTransparency = 0
ee5g7.g2g9986g7h5c3fag65f.TextXAlignment = Enum.TextXAlignment.Center
ee5g7.g2g9986g7h5c3fag65f.MaxVisibleGraphemes = -1
ee5g7.g2g9986g7h5c3fag65f.TextScaled = true

ee5g7.heh5hhe5dag8hdb89d3e.Name = "Rejoin"
ee5g7.heh5hhe5dag8hdb89d3e.Parent = ee5g7.bbah41ae54eb0afg4361chbcg5adh008
ee5g7.heh5hhe5dag8hdb89d3e.AutoButtonColor = true
ee5g7.heh5hhe5dag8hdb89d3e.LayoutOrder = 0
ee5g7.heh5hhe5dag8hdb89d3e.Active = true
ee5g7.heh5hhe5dag8hdb89d3e.Interactable = true
ee5g7.heh5hhe5dag8hdb89d3e.AnchorPoint = Vector2.new(0, 0)
ee5g7.heh5hhe5dag8hdb89d3e.Visible = true
ee5g7.heh5hhe5dag8hdb89d3e.ZIndex = 11
ee5g7.heh5hhe5dag8hdb89d3e.AutomaticSize = Enum.AutomaticSize.None
ee5g7.heh5hhe5dag8hdb89d3e.Size = UDim2.new(0, 180, 0, 29)
ee5g7.heh5hhe5dag8hdb89d3e.Draggable = false
ee5g7.heh5hhe5dag8hdb89d3e.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.heh5hhe5dag8hdb89d3e.ClipsDescendants = false
ee5g7.heh5hhe5dag8hdb89d3e.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.heh5hhe5dag8hdb89d3e.Selectable = true
ee5g7.heh5hhe5dag8hdb89d3e.BorderSizePixel = 0
ee5g7.heh5hhe5dag8hdb89d3e.Rotation = 0
ee5g7.heh5hhe5dag8hdb89d3e.BackgroundTransparency = 0
ee5g7.heh5hhe5dag8hdb89d3e.Position = UDim2.new(-0.00239223894, 0, 0.599517167, 0)
ee5g7.heh5hhe5dag8hdb89d3e.BorderMode = Enum.BorderMode.Outline
ee5g7.heh5hhe5dag8hdb89d3e.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.heh5hhe5dag8hdb89d3e.TextDirection = Enum.TextDirection.Auto
ee5g7.heh5hhe5dag8hdb89d3e.TextStrokeColor3 = Color3.new(0, 0, 0)
ee5g7.heh5hhe5dag8hdb89d3e.TextStrokeTransparency = 1
ee5g7.heh5hhe5dag8hdb89d3e.TextTruncate = Enum.TextTruncate.None
ee5g7.heh5hhe5dag8hdb89d3e.RichText = false
ee5g7.heh5hhe5dag8hdb89d3e.TextColor3 = Color3.new(0, 1, 0)
ee5g7.heh5hhe5dag8hdb89d3e.TextYAlignment = Enum.TextYAlignment.Center
ee5g7.heh5hhe5dag8hdb89d3e.Text = "Rejoin"
ee5g7.heh5hhe5dag8hdb89d3e.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ee5g7.heh5hhe5dag8hdb89d3e.TextWrapped = true
ee5g7.heh5hhe5dag8hdb89d3e.TextTransparency = 0
ee5g7.heh5hhe5dag8hdb89d3e.TextXAlignment = Enum.TextXAlignment.Center
ee5g7.heh5hhe5dag8hdb89d3e.MaxVisibleGraphemes = -1
ee5g7.heh5hhe5dag8hdb89d3e.TextScaled = true

ee5g7.aah9aea92d95912a49a24h.Name = "Leave"
ee5g7.aah9aea92d95912a49a24h.Parent = ee5g7.bbah41ae54eb0afg4361chbcg5adh008
ee5g7.aah9aea92d95912a49a24h.AutoButtonColor = true
ee5g7.aah9aea92d95912a49a24h.LayoutOrder = 0
ee5g7.aah9aea92d95912a49a24h.Active = true
ee5g7.aah9aea92d95912a49a24h.Interactable = true
ee5g7.aah9aea92d95912a49a24h.AnchorPoint = Vector2.new(0, 0)
ee5g7.aah9aea92d95912a49a24h.Visible = true
ee5g7.aah9aea92d95912a49a24h.ZIndex = 11
ee5g7.aah9aea92d95912a49a24h.AutomaticSize = Enum.AutomaticSize.None
ee5g7.aah9aea92d95912a49a24h.Size = UDim2.new(0, 180, 0, 29)
ee5g7.aah9aea92d95912a49a24h.Draggable = false
ee5g7.aah9aea92d95912a49a24h.SizeConstraint = Enum.SizeConstraint.RelativeXY
ee5g7.aah9aea92d95912a49a24h.ClipsDescendants = false
ee5g7.aah9aea92d95912a49a24h.BorderColor3 = Color3.new(0, 0, 0)
ee5g7.aah9aea92d95912a49a24h.Selectable = true
ee5g7.aah9aea92d95912a49a24h.BorderSizePixel = 0
ee5g7.aah9aea92d95912a49a24h.Rotation = 0
ee5g7.aah9aea92d95912a49a24h.BackgroundTransparency = 0
ee5g7.aah9aea92d95912a49a24h.Position = UDim2.new(-0.00239223894, 0, 0.793961644, 0)
ee5g7.aah9aea92d95912a49a24h.BorderMode = Enum.BorderMode.Outline
ee5g7.aah9aea92d95912a49a24h.BackgroundColor3 = Color3.new(0, 0, 0)
ee5g7.aah9aea92d95912a49a24h.TextDirection = Enum.TextDirection.Auto
ee5g7.aah9aea92d95912a49a24h.TextStrokeColor3 = Color3.new(0, 0, 0)
ee5g7.aah9aea92d95912a49a24h.TextStrokeTransparency = 1
ee5g7.aah9aea92d95912a49a24h.TextTruncate = Enum.TextTruncate.None
ee5g7.aah9aea92d95912a49a24h.RichText = false
ee5g7.aah9aea92d95912a49a24h.TextColor3 = Color3.new(0, 1, 0)
ee5g7.aah9aea92d95912a49a24h.TextYAlignment = Enum.TextYAlignment.Center
ee5g7.aah9aea92d95912a49a24h.Text = "Leave Game"
ee5g7.aah9aea92d95912a49a24h.FontFace = Font.new("rbxasset://fonts/families/SourceSansPro.json", Enum.FontWeight.Regular, Enum.FontStyle.Normal)
ee5g7.aah9aea92d95912a49a24h.TextWrapped = true
ee5g7.aah9aea92d95912a49a24h.TextTransparency = 0
ee5g7.aah9aea92d95912a49a24h.TextXAlignment = Enum.TextXAlignment.Center
ee5g7.aah9aea92d95912a49a24h.MaxVisibleGraphemes = -1
ee5g7.aah9aea92d95912a49a24h.TextScaled = true

ee5g7.c7b8dhf70ch0cc750bh29a69.Name = "Flags"
ee5g7.c7b8dhf70ch0cc750bh29a69.Parent = ee5g7.bh1726ge8

ee5g7.f0c640c43e7.Name = "load"
ee5g7.f0c640c43e7.Parent = ee5g7.c7b8dhf70ch0cc750bh29a69
ee5g7.f0c640c43e7.Value = false

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.a339dfd2c856da447)
	local Players = game:GetService("Players")
	local MarketplaceService = game:GetService("MarketplaceService")
	
	local player = Players.LocalPlayer
	local textButton = script.Parent
	
	-- Get the game name
	local success, gameInfo = pcall(function()
		return MarketplaceService:GetProductInfo(game.PlaceId)
	end)
	
	if success and gameInfo and gameInfo.Name then
		textButton.Text = "ROBLOX > " .. gameInfo.Name
	else
		textButton.Text = "ROBLOX > [Unknown Game]"
	end
end)()

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.fb2ag)
	local StarterGui = game:GetService("StarterGui")
	local TextChatService = game:GetService("TextChatService")
	local Players = game:GetService("Players")
	local RunService = game:GetService("RunService")
	
	local player = Players.LocalPlayer
	local button = script.Parent
	
	-- Cache the original button color
	local originalColor = button.BackgroundColor3
	local forceColor = Color3.fromRGB(255, 100, 100)
	
	-- State flags
	local canToggle = true
	
	-- Check if chat is enabled for legacy chat
	local function isLegacyChatVisible()
		local success, result = pcall(function()
			return StarterGui:GetCore("ChatActive")
		end)
		return success and result or false
	end
	
	-- Check if chat is enabled for TextChatService
	local function isTextChatVisible()
		local success, result = pcall(function()
			return TextChatService.ChatEnabled
		end)
		return success and result or false
	end
	
	-- Check if chat is disabled by the game (using SetCoreGuiEnabled for legacy chat)
	local function isChatDisabled()
		local success, result = pcall(function()
			return StarterGui:GetCoreGuiEnabled(Enum.CoreGuiType.Chat)
		end)
		return success and not result  -- Returns true if chat is disabled
	end
	
	-- Set chat visibility for legacy chat
	local function setLegacyChatVisible(state)
		local success = pcall(function()
			StarterGui:SetCore("ChatActive", state)
		end)
		return success
	end
	
	-- Set chat visibility for TextChatService
	local function setTextChatVisible(state)
		local success = pcall(function()
			TextChatService.ChatEnabled = state
		end)
		return success
	end
	
	-- Force enable chat by setting CoreGuiEnabled to true
	local function forceEnableChat()
		local success = pcall(function()
			StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Chat, true)
		end)
		return success
	end
	
	-- Update the button's text and color based on the chat state
	local function updateButton()
		local visible = isLegacyChatVisible() or isTextChatVisible()
		local disabled = isChatDisabled()
	
		if disabled then
			button.Text = "Force Enable Chat"
			button.BackgroundColor3 = forceColor
			canToggle = false  -- Disabling toggle if chat is forced off
		elseif visible then
			button.Text = "Hide Chat"
			button.BackgroundColor3 = originalColor
		else
			button.Text = "Show Chat"
			button.BackgroundColor3 = originalColor
		end
	end
	
	-- Attempt to force-enable chat if disabled
	local function onClick()
		if not canToggle then
			-- Force enable the chat if it's been disabled by the game
			if forceEnableChat() then
				canToggle = true
				updateButton()  -- Refresh the button state
			end
		else
			-- Toggle chat visibility for legacy or text chat
			local currentLegacy = isLegacyChatVisible()
			local currentText = isTextChatVisible()
			local success = false
	
			if currentLegacy then
				success = setLegacyChatVisible(false)
			elseif currentText then
				success = setTextChatVisible(false)
			else
				-- Try to show the chat based on its current state
				if not currentLegacy then
					success = setLegacyChatVisible(true)
				elseif not currentText then
					success = setTextChatVisible(true)
				end
			end
	
			if success then
				updateButton()
			end
		end
	end
	
	-- Keep checking and updating UI state every frame
	RunService.RenderStepped:Connect(function()
		updateButton()
	end)
	
	-- Connect button click to toggle or force-enable chat
	button.MouseButton1Click:Connect(onClick)
end)()

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.g2g9986g7h5c3fag65f)
	-- LocalScript inside the leaderboardButton (TextButton)
	local leaderboardButton = script.Parent
	local StarterGui = game:GetService("StarterGui")
	local RunService = game:GetService("RunService")
	
	-- Function to update the button text based on current visibility
	local function updateText()
		local enabled = StarterGui:GetCoreGuiEnabled(Enum.CoreGuiType.PlayerList)
		leaderboardButton.Text = (enabled and "Hide" or "Show") .. " Leaderboard"
	end
	
	-- Click to toggle visibility
	leaderboardButton.MouseButton1Click:Connect(function()
		local enabled = StarterGui:GetCoreGuiEnabled(Enum.CoreGuiType.PlayerList)
		StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.PlayerList, not enabled)
	end)
	
	-- Continuously update the button text
	RunService.RenderStepped:Connect(updateText)
end)()

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.heh5hhe5dag8hdb89d3e)
	-- Script for a "Rejoin Game" button
	
	local button = script.Parent -- Assume this script is inside the button
	local player = game.Players.LocalPlayer -- Get the local player
	local flags = button.Parent.Parent.Parent.Flags
	local load = flags.load
	
	local hasConfirmed = false -- Track if the player has confirmed
	
	local function onButtonClicked()
		if hasConfirmed then
			-- Player confirmed, rejoin the game
			load.Value = true
			game:GetService("TeleportService"):TeleportToPlaceInstance(game.PlaceId, game.JobId, player)
		else
			-- Change the button text and background color
			button.Text = "You sure?"
			button.BackgroundColor3 = Color3.fromRGB(255, 100, 100) -- Mild red color
			hasConfirmed = true -- Mark that the player has confirmed
		end
	end
	
	button.MouseButton1Click:Connect(onButtonClicked)
end)()

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.aah9aea92d95912a49a24h)
	-- Script for a "Leave Game" button
	
	local button = script.Parent -- Assume this script is inside the button
	local player = game.Players.LocalPlayer -- Get the local player
	local flags = button.Parent.Parent.Parent.Flags
	local load = flags.load
	
	local hasConfirmed = false -- Track if the player has confirmed
	
	local function onButtonClicked()
		if hasConfirmed then
			-- Player confirmed, shut down the game
			load.Value = true
			game:Shutdown() -- Spooky command!
		else
			-- Change the button text and background color
			button.Text = "You sure?"
			button.BackgroundColor3 = Color3.fromRGB(255, 100, 100) -- Mild red color
			hasConfirmed = true -- Mark that the player has confirmed
		end
	end
	
	button.MouseButton1Click:Connect(onButtonClicked)
end)()

coroutine.wrap(function()
	local script = Instance.new("LocalScript", ee5g7.bh1726ge8)
	local CoreGui = game:GetService("CoreGui")
	local Players = game:GetService("Players")
	local UserInputService = game:GetService("UserInputService")
	
	local player = Players.LocalPlayer
	local mouse = player:GetMouse()
	
	local function removeCoreGuis()
		-- Wait for the "TopBarApp" to exist in CoreGui
		local topBar = CoreGui:WaitForChild("TopBarApp", 10) -- Waits for up to 10 seconds
	
		-- If the "TopBarApp" exists, destroy it
		if topBar then
			topBar:Destroy()
		else
			warn("TopBarApp not found within the timeout period.")
		end
	end
	
	removeCoreGuis()
	
	local gui = script.Parent
	local topBar = gui:WaitForChild("TopBAR")
	local menus = gui:WaitForChild("Menus")
	local flags = gui:WaitForChild("Flags")
	
	-- Toggle visibility of corresponding menu when a button is clicked
	for _, button in ipairs(topBar:GetChildren()) do
		if button:IsA("TextButton") or button:IsA("ImageButton") then
			button.MouseButton1Click:Connect(function()
				local menuFrame = menus:FindFirstChild(button.Name)
				if menuFrame and menuFrame:IsA("Frame") then
					menuFrame.Visible = not menuFrame.Visible
				else
					warn("No matching frame for button:", button.Name)
				end
			end)
		end
	end
	
	-- FlagsManager module (inline)
	local FlagsManager = {}
	FlagsManager.__index = FlagsManager
	
	function FlagsManager.new(flagsFolder)
		local self = setmetatable({}, FlagsManager)
		self.flags = flagsFolder
		self.connections = {}
		return self
	end
	
	function FlagsManager:bindBool(flagName, onTrue, onFalse)
		local flag = self.flags:WaitForChild(flagName)
		if not flag:IsA("BoolValue") then
			error("Flag '" .. flagName .. "' must be a BoolValue")
		end
	
		-- Initial state
		if flag.Value then
			onTrue()
		else
			onFalse()
		end
	
		-- Bind listener
		local conn = flag:GetPropertyChangedSignal("Value"):Connect(function()
			if flag.Value then
				onTrue()
			else
				onFalse()
			end
		end)
	
		self.connections[flagName] = conn
	end
	
	function FlagsManager:destroy()
		for _, conn in pairs(self.connections) do
			conn:Disconnect()
		end
		self.connections = {}
	end
	
	-- Cursor image ID you uploaded
	local cursorImageId = "rbxassetid://103112866728788"
	
	-- Create and use FlagsManager
	local flagManager = FlagsManager.new(flags)
	
	flagManager:bindBool("load", function()
		UserInputService.MouseIconEnabled = true
		UserInputService.MouseIcon = cursorImageId
	end, function()
		UserInputService.MouseIcon = ""
	end)
end)()
